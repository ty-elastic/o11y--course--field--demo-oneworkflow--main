source /opt/workshops/elastic-retry.sh
export $(curl http://kubernetes-vm:9000/env | xargs)

export INSTRUQT_TRACK_SLUG=o11y--course--field--demo-oneworkflow--main
export REPO=us-central1-docker.pkg.dev/elastic-sa/tbekiares

/opt/workshops/clone-code.sh -r ty-elastic/instruqt_$INSTRUQT_TRACK_SLUG -d false

# ------------- OTEL

source /workspace/workshop/instruqt/scripts/elastic-otel.sh

# ------------- DEMO

cd /workspace/

git clone https://github.com/elastic/opentelemetry-demo.git
cd opentelemetry-demo
git checkout 2.1.5

helm install my-otel-demo open-telemetry/opentelemetry-demo --version 0.38.3 -f kubernetes/elastic-helm/demo.yml